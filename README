This is a suite of tools for processing teletext signals recorded on VHS, as
well as tools for processing teletext packet streams. The software has only
been tested with bt8x8 capture hardware, but should work with any VBI capture
hardware if you write a new configuration file (see config_bt8x8_pal.py).

This is a rewrite of the original software using a new CUDA-accelerated
algorithm. It is much faster than the original and also somewhat more
accurate. However it still lacks some functionality, mainly the ability to
generate web pages from the output. The old code is still available in the
'v1' branch of this repo.


INSTALLATION
------------

In order to use CUDA decoding you need to use the Nvidia proprietary driver.

Install python dependencies:

    sudo apt-get install python-numpy python-scipy python-pycuda nvidia-modprobe
    pip install --user scikit-cuda

You can use setup.py to install, or just add the source directory to your
path.

In order for the output to be rendered correctly you need to use a specific
font and terminal:

    sudo apt-get install tv-fonts rxvt-unicode

Then enable bitmap fonts in your X server:

    cd /etc/fonts/conf.d
    sudo rm 70-no-bitmaps.conf
    sudo ln -s ../conf.avail/70-yes-bitmaps.conf .

After doing this you may need to reboot.

Finally open a terminal with the required font:

    urxvt -fg white -bg black -fn teletext &


USAGE
-----

First capture VBI from VHS:

    vbicat /dev/vbi0 > capture.vbi

Scan for headers in the capture:

    deconvolve -H -S 20 capture.vbi > headers.txt

Examine the headers to find services on the tape:

    less -r headers.txt

Deconvolve a section of the capture corresponding to one service:

    deconvolve --start <N> --stop <N> capture.vbi > service.t42

Extract a page from the result:

    t42pipe service.t42 -PS -p 100

Run each command with '--help' for a compltete list of options.
